<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ุญุงุณุจุฉ ุฌุฏูู ูุดุฑูุน ุชุฑุจูุฉ ุงูุฃุบูุงู - ูุตุฑ</title>
    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Arial, sans-serif;
            background: #f5f5f5;
            color: #333;
            line-height: 1.4;
            direction: rtl;
            font-size: 14px;
        }
        
        .container {
            max-width: 100%;
            margin: 0 auto;
            padding: 10px;
        }
        
        h1 {
            text-align: center;
            color: #2c3e50;
            margin-bottom: 10px;
            font-size: 1.3rem;
        }
        
        .tabs {
            display: flex;
            background: white;
            border-radius: 8px 8px 0 0;
            overflow-x: hidden;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            margin-bottom: -1px;
            justify-content: stretch;
            flex-wrap: nowrap;
        }
        
        .tab {
            flex: 1 1 auto;
            min-width: 0;
            padding: 5px 2px;
            text-align: center;
            cursor: pointer;
            background: #ecf0f1;
            border: none;
            border-right: 1px solid #bdc3c7;
            font-size: 0.65rem;
            font-weight: bold;
            transition: all 0.3s;
            white-space: normal;
            line-height: 1.2;
            display: flex;
            align-items: center;
            justify-content: center;
            min-height: 35px;
        }
        
        .tab:last-child {
            border-right: none;
        }
        
        .tab.active {
            background: white;
            color: #3498db;
            border-bottom: 3px solid #3498db;
            font-weight: bold;
            border-right-color: transparent;
        }
        
        .tab.active + .tab {
            border-left: 1px solid transparent;
        }
        
        .tab:hover {
            background: #d5dbdb;
            position: relative;
            z-index: 1;
            transform: translateY(-1px);
        }
        
        .tab-content {
            display: none;
            background: white;
            padding: 10px;
            border-radius: 0 0 8px 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        .tab-content.active {
            display: block;
        }
        
        .grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
            gap: 8px;
            margin-bottom: 15px;
        }
        
        .grid-2 {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
            gap: 6px;
        }
        
        .grid-3 {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
            gap: 6px;
        }
        
        .grid-4 {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: 6px;
        }
        
        .section {
            background: #f8f9fa;
            border-radius: 6px;
            padding: 10px;
            border: 1px solid #e9ecef;
        }
        
        .section h3 {
            color: #495057;
            margin-bottom: 6px;
            font-size: 0.95rem;
            border-bottom: 2px solid #3498db;
            padding-bottom: 3px;
        }
        
        .input-group {
            margin-bottom: 6px;
        }
        
        .input-group-inline {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 8px;
            margin-bottom: 6px;
        }
        
        label {
            display: block;
            margin-bottom: 3px;
            color: #555;
            font-weight: 500;
            font-size: 0.7rem;
        }
        
        input[type="number"], select {
            width: 100%;
            padding: 4px;
            border: 1px solid #ddd;
            border-radius: 3px;
            font-size: 12px;
            transition: border-color 0.3s;
            direction: ltr;
            text-align: right;
        }
        
        input[type="number"]:focus, select:focus {
            outline: none;
            border-color: #3498db;
        }
        
        .result {
            background: #e8f4f8;
            padding: 6px 8px;
            border-radius: 4px;
            margin-top: 6px;
            font-weight: bold;
            color: #2c3e50;
            font-size: 0.85rem;
        }
        
        .summary-section {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 15px;
            border-radius: 8px;
            margin-top: 15px;
        }
        
        .summary-section h2 {
            color: white;
            margin-bottom: 12px;
            text-align: center;
            font-size: 1.3rem;
        }
        
        .metrics-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
            gap: 10px;
            margin-bottom: 12px;
        }
        
        .metric {
            background: rgba(255,255,255,0.15);
            padding: 8px;
            border-radius: 6px;
            text-align: center;
        }
        
        .metric-label {
            font-size: 0.85rem;
            margin-bottom: 6px;
            opacity: 0.9;
        }
        
        .metric-value {
            font-size: 1.3rem;
            font-weight: bold;
        }
        
        .decision-box {
            text-align: center;
            padding: 10px;
            margin-top: 8px;
            border-radius: 8px;
            font-size: 1rem;
            font-weight: bold;
        }
        
        .decision-box.go {
            background: #27ae60;
            color: white;
        }
        
        .decision-box.no-go {
            background: #e74c3c;
            color: white;
        }
        
        .decision-box.maybe {
            background: #f39c12;
            color: white;
        }
        
        .info-box {
            background: #fff3cd;
            border: 1px solid #ffecc0;
            padding: 8px;
            border-radius: 4px;
            margin-bottom: 10px;
            color: #856404;
            font-size: 0.8rem;
        }
        
        .compact-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(100px, 1fr));
            gap: 4px;
        }
        
        .compact-input {
            display: flex;
            flex-direction: column;
        }
        
        .compact-input label {
            font-size: 0.65rem;
            margin-bottom: 2px;
        }
        
        .compact-input input, .compact-input select {
            padding: 4px;
            font-size: 11px;
        }
        
        .section-compact {
            background: #f8f9fa;
            border-radius: 5px;
            padding: 8px;
            border: 1px solid #e9ecef;
        }
        
        .section-compact h3 {
            font-size: 0.9rem;
            margin-bottom: 6px;
            padding-bottom: 3px;
        }
        
        .quick-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(80px, 1fr));
            gap: 6px;
            margin-bottom: 12px;
        }
        
        .stat-box {
            background: #3498db;
            color: white;
            padding: 6px;
            border-radius: 4px;
            text-align: center;
        }
        
        .stat-box .value {
            font-size: 1rem;
            font-weight: bold;
        }
        
        .stat-box .label {
            font-size: 0.7rem;
            opacity: 0.9;
        }
        
        .small-text {
            font-size: 0.65rem;
            color: #777;
            display: block;
            margin-top: 2px;
        }
        
        @media (max-width: 768px) {
            .tab {
                font-size: 0.6rem;
                padding: 4px 2px;
            }
            
            h1 {
                font-size: 1.2rem;
            }
        }
        
        @media (min-width: 769px) and (max-width: 1024px) {
            .tab {
                font-size: 0.65rem;
                padding: 5px 2px;
            }
        }
        
        @media (min-width: 1025px) and (max-width: 1200px) {
            .tab {
                font-size: 0.7rem;
                padding: 6px 3px;
            }
        }
        
        @media (min-width: 1201px) {
            .tab {
                font-size: 0.75rem;
                padding: 8px 4px;
            }
            
            .grid {
                grid-template-columns: repeat(3, 1fr);
            }
            .grid-2 {
                grid-template-columns: repeat(2, 1fr);
            }
            .grid-3 {
                grid-template-columns: repeat(3, 1fr);
            }
            .grid-4 {
                grid-template-columns: repeat(4, 1fr);
            }
        }
        
        @media (min-width: 1401px) {
            .tab {
                font-size: 0.8rem;
                padding: 10px 5px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>๐ ุญุงุณุจุฉ ุฌุฏูู ูุดุฑูุน ุชุฑุจูุฉ ุงูุฃุบูุงู - ูุตุฑ</h1>
        
        <!-- Quick Summary Dashboard -->
        <div id="quickSummary" style="background: #2c3e50; color: white; padding: 8px; border-radius: 6px; margin-bottom: 10px; display: none;">
            <div class="quick-stats">
                <div class="stat-box" style="background: #27ae60;">
                    <div class="value" id="quickProfit">0</div>
                    <div class="label">ุตุงูู ุงูุฑุจุญ</div>
                </div>
                <div class="stat-box" style="background: #e74c3c;">
                    <div class="value" id="quickInvestment">0</div>
                    <div class="label">ุงูุงุณุชุซูุงุฑ</div>
                </div>
                <div class="stat-box" style="background: #f39c12;">
                    <div class="value" id="quickROI">0%</div>
                    <div class="label">ุงูุนุงุฆุฏ</div>
                </div>
                <div class="stat-box" style="background: #9b59b6;">
                    <div class="value" id="quickBreakeven">0</div>
                    <div class="label">ุงูุชุนุงุฏู/ุดูุฑ</div>
                </div>
                <div class="stat-box" style="background: #34495e;">
                    <div class="value" id="quickRevenue">0</div>
                    <div class="label">ุงูุฅูุฑุงุฏุงุช</div>
                </div>
                <div class="stat-box" style="background: #16a085;">
                    <div class="value" id="quickMargin">0%</div>
                    <div class="label">ูุงูุด ุงูุฑุจุญ</div>
                </div>
            </div>
        </div>
        
        <div class="tabs">
            <button class="tab active" onclick="showTab('market')">ุจุญุซ ุงูุณูู</button>
            <button class="tab" onclick="showTab('livestock')">ุจูุงูุงุช ุงูุฃุบูุงู</button>
            <button class="tab" onclick="showTab('infrastructure')">ุงูุจููุฉ ุงูุชุญุชูุฉ</button>
            <button class="tab" onclick="showTab('operations')">ุงูุชุดุบูู</button>
            <button class="tab" onclick="showTab('breeding')">ุจุฑูุงูุฌ ุงูุชุฑุจูุฉ</button>
            <button class="tab" onclick="showTab('risks')">ุงููุฎุงุทุฑ ูุงูุถุฑุงุฆุจ</button>
            <button class="tab" onclick="showTab('seasonal')">ุงูุชุญููู ุงูููุณูู</button>
            <button class="tab" onclick="showTab('financial')">ุงูุชุญููู ุงููุงูู</button>
        </div>
        
        <!-- ุจุญุซ ุงูุณูู -->
        <div id="market" class="tab-content active">
            <div class="info-box">
                ๐ ุงุฏุฎู ูุนูููุงุช ุงูุณูู ุงููุญููุฉ ูููุทูุชู ููุญุตูู ุนูู ุชุญููู ุฏููู
            </div>
            
            <div class="grid">
                <div class="section">
                    <h3>ุฃุณุนุงุฑ ุงูุจูุน</h3>
                    <div class="input-group">
                        <label>ุณุนุฑ ุฎุฑูู ุงูุฃุถุญูุฉ (ุฌููู)</label>
                        <input type="number" id="udheyaPrice" value="8000">
                        <span class="small-text">ูุชูุณุท ุงูุณุนุฑ ูู ููุณู ุงูุฃุถุญู</span>
                    </div>
                    <div class="input-group">
                        <label>ุณุนุฑ ูููู ุงููุญู (ุฌููู)</label>
                        <input type="number" id="meatPrice" value="250">
                    </div>
                    <div class="input-group">
                        <label>ุณุนุฑ ุงูุฎุฑูู ุงูุญู ููุจูุน (ุฌููู)</label>
                        <input type="number" id="liveAnimalPrice" value="6000">
                        <span class="small-text">ููููุงุณุจุงุช ูุงูุฃูุฑุงุญ</span>
                    </div>
                    <div class="input-group">
                        <label>ุณุนุฑ ูุฌุจุฉ ุงููุงุชุฑููุฌ/ุดุฎุต (ุฌููู)</label>
                        <input type="number" id="cateringPrice" value="150">
                    </div>
                    <div class="input-group">
                        <label>ุณุนุฑ ุฅูุฌุงุฑ ุงูุฎุฑูู ููููุงุณุจุงุช (ุฌููู/ููู)</label>
                        <input type="number" id="eventRentalPrice" value="500">
                    </div>
                    <div class="input-group">
                        <label>ุณุนุฑ ุจูุน ุงูุณูุงุฏ ุงูุนุถูู/ุทู</label>
                        <input type="number" id="manurePrice" value="300">
                    </div>
                    <div class="input-group">
                        <label>ุณุนุฑ ุจูุน ุงูุฌูุฏ/ูุทุนุฉ</label>
                        <input type="number" id="hidePrice" value="150">
                    </div>
                    <div class="input-group">
                        <label>ุณุนุฑ ุงูุชุตุฏูุฑ ููุฎููุฌ/ุฎุฑูู</label>
                        <input type="number" id="exportPrice" value="12000">
                    </div>
                </div>
                
                <div class="section">
                    <h3>ูุนูููุงุช ุงูุณูู</h3>
                    <div class="input-group">
                        <label>ููุน ุงูุณูู ุงููุณุชูุฏู</label>
                        <select id="marketType">
                            <option value="local">ูุญูู</option>
                            <option value="regional">ุฅููููู</option>
                            <option value="online">ุฃูููุงูู</option>
                            <option value="mixed">ูุฎุชูุท</option>
                        </select>
                    </div>
                    <div class="input-group">
                        <label>ูุชูุณุท ุณุนุฑ ุงูููุงูุณูู (ุฎุฑูู ุฃุถุญูุฉ)</label>
                        <input type="number" id="competitorPrice" value="7500">
                    </div>
                    <div class="input-group">
                        <label>ุนุฏุฏ ุงูููุงูุณูู ูู ุงูููุทูุฉ</label>
                        <input type="number" id="competitors" value="5">
                    </div>
                    <div class="input-group">
                        <label>ูุณุจุฉ ุงูุนููุงุก ุงูููุฏู (%)</label>
                        <input type="number" id="cashCustomers" value="60">
                    </div>
                    <div class="input-group">
                        <label>ูุณุจุฉ ุงูุนููุงุก ุงูุขุฌู (%)</label>
                        <input type="number" id="creditCustomers" value="40" readonly>
                    </div>
                    <div class="input-group">
                        <label>ูุชูุณุท ูุชุฑุฉ ุงูุชุญุตูู (ููู)</label>
                        <input type="number" id="collectionPeriod" value="30">
                    </div>
                    <div class="input-group">
                        <label>ูุณุจุฉ ุงููุญูู ุงูููุชุงุฒุฉ (%)</label>
                        <input type="number" id="premiumMeat" value="30">
                    </div>
                    <div class="input-group">
                        <label>ูุณุจุฉ ุงููุญูู ุงูุฌูุฏุฉ (%)</label>
                        <input type="number" id="goodMeat" value="50">
                    </div>
                    <div class="input-group">
                        <label>ูุณุจุฉ ุงููุญูู ุงูุนุงุฏูุฉ (%)</label>
                        <input type="number" id="regularMeat" value="20">
                    </div>
                </div>
                
                <div class="section">
                    <h3>ุชุญููู ุงูุทูุจ</h3>
                    <div class="input-group">
                        <label>ุนุฏุฏ ุงูุนููุงุก ุงููุชููุน (ุฃุถุงุญู)</label>
                        <input type="number" id="udheyaCustomers" value="100">
                    </div>
                    <div class="input-group">
                        <label>ูููุฉ ุงููุญู ุงููุทููุจุฉ ุดูุฑูุงู (ูููู)</label>
                        <input type="number" id="meatDemand" value="500">
                    </div>
                    <div class="input-group">
                        <label>ุนุฏุฏ ุงูุฎุฑุงู ุงูุญูุฉ ููุจูุน ุดูุฑูุงู</label>
                        <input type="number" id="liveAnimalMonthly" value="10">
                    </div>
                    <div class="input-group">
                        <label>ุนุฏุฏ ููุงุณุจุงุช ุงููุงุชุฑููุฌ ุดูุฑูุงู</label>
                        <input type="number" id="cateringEvents" value="4">
                    </div>
                    <div class="input-group">
                        <label>ูุชูุณุท ุนุฏุฏ ุงูุฃุดุฎุงุต/ููุงุณุจุฉ ูุงุชุฑููุฌ</label>
                        <input type="number" id="cateringPeople" value="50">
                    </div>
                    <div class="input-group">
                        <label>ุนุฏุฏ ุฅูุฌุงุฑุงุช ุงูููุงุณุจุงุช ุดูุฑูุงู</label>
                        <input type="number" id="eventRentals" value="3">
                    </div>
                    <div class="input-group">
                        <label>ุนุฏุฏ ุงูุฎุฑุงู ููุชุตุฏูุฑ ุดูุฑูุงู</label>
                        <input type="number" id="exportMonthly" value="5">
                    </div>
                    <div class="input-group">
                        <label>ุฅูุชุงุฌ ุงูุณูุงุฏ ุงูุนุถูู (ุทู/ุณูุฉ)</label>
                        <input type="number" id="manureProduction" value="20">
                    </div>
                </div>
                
                <div class="section">
                    <h3>ูุนุฏุงุช ุงููุงุชุฑููุฌ ูุงูููุงุณุจุงุช</h3>
                    <div class="input-group">
                        <label>ุดูุงูุงุช ููุนุฏุงุช ุทุจุฎ</label>
                        <input type="number" id="cateringCooking" value="30000">
                    </div>
                    <div class="input-group">
                        <label>ุฎูุงู ููุฑุงุณู ูุทุงููุงุช</label>
                        <input type="number" id="cateringFurniture" value="40000">
                    </div>
                    <div class="input-group">
                        <label>ุฃุทุจุงู ูุฃุฏูุงุช ุชูุฏูู</label>
                        <input type="number" id="cateringServing" value="15000">
                    </div>
                    <div class="input-group">
                        <label>ูููุฏ ููุฑุจุงุก ูุชููู</label>
                        <input type="number" id="generator" value="25000">
                    </div>
                    <div class="input-group">
                        <label>ุชุตููุฑ ุงุญุชุฑุงูู ููููุชุฌุงุช</label>
                        <input type="number" id="photography" value="5000">
                    </div>
                </div>
            </div>
        </div>
        
        <!-- ุจูุงูุงุช ุงูุฃุบูุงู -->
        <div id="livestock" class="tab-content">
            <div class="grid">
                <div class="section">
                    <h3>ุดุฑุงุก ุงูุฃุบูุงู</h3>
                    <div class="grid-2">
                        <div class="input-group">
                            <label>ุนุฏุฏ ุงูุฃุบูุงู ุงููุจุฏุฆู</label>
                            <input type="number" id="initialSheep" value="50">
                        </div>
                        <div class="input-group">
                            <label>ุณุนุฑ ุงูุฎุฑูู (ุฌููู)</label>
                            <input type="number" id="sheepCost" value="3500">
                        </div>
                        <div class="input-group">
                            <label>ุนุฏุฏ ุงููุนุงุฌ</label>
                            <input type="number" id="ewes" value="30">
                        </div>
                        <div class="input-group">
                            <label>ุนุฏุฏ ุงููุจุงุด</label>
                            <input type="number" id="rams" value="3">
                        </div>
                    </div>
                </div>
                
                <div class="section">
                    <h3>ูุนุฏูุงุช ุงูุฅูุชุงุฌ</h3>
                    <div class="grid-2">
                        <div class="input-group">
                            <label>ูุนุฏู ุงูููุงุฏุฉ %</label>
                            <input type="number" id="birthRate" value="150">
                            <span class="small-text">150% = 1.5 ููููุฏ/ูุนุฌุฉ</span>
                        </div>
                        <div class="input-group">
                            <label>ูุนุฏู ุงููููู %</label>
                            <input type="number" id="mortalityRate" value="5">
                        </div>
                        <div class="input-group">
                            <label>ููุช ุงูุชุณููู (ุดูุฑ)</label>
                            <input type="number" id="timeToMarket" value="6">
                        </div>
                    </div>
                </div>
                
                <div class="section">
                    <h3>ุงูุชุบุฐูุฉ ูุงูููุงู</h3>
                    <div class="grid-2">
                        <div class="input-group">
                            <label>ุนูู ูุฌู/ููู</label>
                            <input type="number" id="feedPerDay" value="1.5" step="0.1">
                        </div>
                        <div class="input-group">
                            <label>ุณุนุฑ ุทู ุงูุนูู</label>
                            <input type="number" id="feedPriceTon" value="12000">
                        </div>
                        <div class="input-group">
                            <label>ูุนุฏู ุชุญููู</label>
                            <input type="number" id="feedConversion" value="5" step="0.1">
                            <span class="small-text">ูุฌู ุนูู/ูุฌู ุฒูุงุฏุฉ</span>
                        </div>
                        <div class="input-group">
                            <label>ููุงู ูุชุฑ/ููู</label>
                            <input type="number" id="waterPerDay" value="8">
                            <span class="small-text">ูุฒูุฏ ูู12 ูู ุงูุตูู</span>
                        </div>
                        <div class="input-group">
                            <label>ุณุนุฑ ูยณ ููุงู</label>
                            <input type="number" id="waterPrice" value="3.5" step="0.1">
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- ุงูุจููุฉ ุงูุชุญุชูุฉ -->
        <div id="infrastructure" class="tab-content">
            <div class="grid">
                <div class="section">
                    <h3>ุงูุฃุฑุถ ูุงููุจุงูู</h3>
                    <div class="grid-2">
                        <div class="input-group">
                            <label>ูุณุงุญุฉ (ูยฒ)</label>
                            <input type="number" id="landArea" value="2000">
                        </div>
                        <div class="input-group">
                            <label>ุฅูุฌุงุฑ ุณููู</label>
                            <input type="number" id="landRent" value="60000">
                            <span class="small-text">0 ุฅุฐุง ุชููู</span>
                        </div>
                        <div class="input-group">
                            <label>ุจูุงุก ุงูุญุธุงุฆุฑ</label>
                            <input type="number" id="shelterCost" value="150000">
                        </div>
                        <div class="input-group">
                            <label>ุงูุณูุงุฌ</label>
                            <input type="number" id="fencingCost" value="40000">
                        </div>
                    </div>
                </div>
                
                <div class="section">
                    <h3>ุงููุนุฏุงุช ูุงูุชุฌููุฒุงุช</h3>
                    <div class="grid-3">
                        <div class="input-group">
                            <label>ูุธุงู ุงูููุงู</label>
                            <input type="number" id="waterSystem" value="25000">
                        </div>
                        <div class="input-group">
                            <label>ุชุฏููุฑ ุงูููุงู</label>
                            <input type="number" id="waterRecycling" value="40000">
                            <span class="small-text">ูููุฑ 30%</span>
                        </div>
                        <div class="input-group">
                            <label>ูุนุฏุงุช ุงูุชุบุฐูุฉ</label>
                            <input type="number" id="feedingEquipment" value="15000">
                        </div>
                        <div class="input-group">
                            <label>ูุฎุฒู ุงูุนูู</label>
                            <input type="number" id="feedStorage" value="30000">
                        </div>
                        <div class="input-group">
                            <label>ุซูุงุฌุงุช ุญูุธ</label>
                            <input type="number" id="refrigerators" value="80000">
                        </div>
                        <div class="input-group">
                            <label>ูุฑูุฒุฑุงุช</label>
                            <input type="number" id="freezers" value="60000">
                        </div>
                        <div class="input-group">
                            <label>ูุนุฏุงุช ุชุบููู</label>
                            <input type="number" id="packagingEquipment" value="35000">
                        </div>
                        <div class="input-group">
                            <label>ูุธุงู ุจููุฌุงุฒ</label>
                            <input type="number" id="biogasSystem" value="75000">
                            <span class="small-text">ุงุฎุชูุงุฑู</span>
                        </div>
                        <div class="input-group">
                            <label>ูุนุฏุงุช ุฃุฎุฑู</label>
                            <input type="number" id="otherEquipment" value="20000">
                        </div>
                    </div>
                </div>
                
                <div class="section">
                    <h3>ุงููุฑูุจุงุช ูุงูููู</h3>
                    <div class="grid-2">
                        <div class="input-group">
                            <label>ุณูุงุฑุฉ ููู ุนุงุฏูุฉ</label>
                            <input type="number" id="vehicle" value="0">
                            <span class="small-text">0 ุฅุฐุง ููู ูุคุฌุฑ</span>
                        </div>
                        <div class="input-group">
                            <label>ุณูุงุฑุฉ ูุจุฑุฏุฉ</label>
                            <input type="number" id="refrigeratedVehicle" value="350000">
                        </div>
                        <div class="input-group">
                            <label>ููู ุดูุฑู</label>
                            <input type="number" id="transportMonthly" value="5000">
                        </div>
                    </div>
                </div>
                
                <div class="section">
                    <h3>ุงูุจูุน ุงูุฃูููุงูู ูุงูุชูููุฉ</h3>
                    <div class="grid-2">
                        <div class="input-group">
                            <label>ูููุน ุฅููุชุฑููู</label>
                            <input type="number" id="website" value="25000">
                        </div>
                        <div class="input-group">
                            <label>ุชุทุจูู ููุจุงูู</label>
                            <input type="number" id="mobileApp" value="50000">
                        </div>
                        <div class="input-group">
                            <label>ุจูุงุจุฉ ุฏูุน</label>
                            <input type="number" id="paymentGateway" value="10000">
                        </div>
                        <div class="input-group">
                            <label>ูุธุงู ุงููุฎุฒูู</label>
                            <input type="number" id="inventorySystem" value="15000">
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- ุงูุชุดุบูู -->
        <div id="operations" class="tab-content">
            <div class="grid">
                <div class="section">
                    <h3>ุงูุนูุงูุฉ</h3>
                    <div class="input-group">
                        <label>ุนุฏุฏ ุงูุนูุงู</label>
                        <input type="number" id="workers" value="2">
                    </div>
                    <div class="input-group">
                        <label>ุฑุงุชุจ ุงูุนุงูู ุงูุดูุฑู</label>
                        <input type="number" id="workerSalary" value="3000">
                    </div>
                    <div class="input-group">
                        <label>ูุดุฑู/ูุฏูุฑ (ุฑุงุชุจ ุดูุฑู)</label>
                        <input type="number" id="managerSalary" value="0">
                        <span class="small-text">0 ุฅุฐุง ููุช ุณุชุฏูุฑ ุจููุณู</span>
                    </div>
                </div>
                
                <div class="section">
                    <h3>ุงูุฎุฏูุงุช ุงูุจูุทุฑูุฉ</h3>
                    <div class="input-group">
                        <label>ุชูููุฉ ุงูุชุญุตููุงุช ุงูุณูููุฉ/ุฑุฃุณ</label>
                        <input type="number" id="vaccinesPerHead" value="150">
                    </div>
                    <div class="input-group">
                        <label>ููุฒุงููุฉ ุทูุงุฑุฆ ุจูุทุฑูุฉ ุดูุฑูุฉ</label>
                        <input type="number" id="vetEmergency" value="2500">
                    </div>
                    <div class="input-group">
                        <label>ูุญุต ุฏูุฑู ุดูุฑู</label>
                        <input type="number" id="vetCheckup" value="1500">
                    </div>
                </div>
                
                <div class="section">
                    <h3>ูุตุงุฑูู ุฃุฎุฑู</h3>
                    <div class="input-group">
                        <label>ุงูููุฑุจุงุก ูุงููุงุก ุดูุฑูุงู</label>
                        <input type="number" id="utilities" value="2000">
                    </div>
                    <div class="input-group">
                        <label>ุงูุชุณููู ูุงูุฅุนูุงู ุดูุฑูุงู</label>
                        <input type="number" id="marketing" value="3000">
                    </div>
                    <div class="input-group">
                        <label>ุฅุนูุงูุงุช ููุณุจูู ูุฅูุณุชุฌุฑุงู</label>
                        <input type="number" id="digitalMarketing" value="5000">
                    </div>
                    <div class="input-group">
                        <label>ุงูุชุฃููู ุงูุณููู</label>
                        <input type="number" id="insurance" value="12000">
                    </div>
                    <div class="input-group">
                        <label>ุฑุฎุต ูุชุตุงุฑูุญ ุณูููุฉ</label>
                        <input type="number" id="licenses" value="8000">
                    </div>
                    <div class="input-group">
                        <label>ุดูุงุฏุฉ ุงูุฐุจุญ ุงูุญูุงู</label>
                        <input type="number" id="halalCertificate" value="15000">
                    </div>
                    <div class="input-group">
                        <label>ุดูุงุฏุงุช ุงูุฌูุฏุฉ ูุงูุตุญุฉ</label>
                        <input type="number" id="qualityCertificates" value="10000">
                    </div>
                </div>
                
                <div class="section">
                    <h3>ุชูุงููู ุงูุฐุจุญ ูุงูุชุฌููุฒ</h3>
                    <div class="input-group">
                        <label>ุฑุณูู ุงููุฌุฒุฑ/ุฎุฑูู</label>
                        <input type="number" id="slaughterFee" value="100">
                    </div>
                    <div class="input-group">
                        <label>ุชูููุฉ ุงูุชูุทูุน ูุงูุชุบููู/ุฎุฑูู</label>
                        <input type="number" id="processingFee" value="150">
                    </div>
                    <div class="input-group">
                        <label>ุฃููุงุณ ุชูุฑูุบ ูุชุนุจุฆุฉ ุดูุฑูุงู</label>
                        <input type="number" id="packagingMonthly" value="2000">
                    </div>
                    <div class="input-group">
                        <label>ุนูุงูุฉ ูุคูุชุฉ ูููุงุชุฑููุฌ/ููุงุณุจุฉ</label>
                        <input type="number" id="cateringStaffPerEvent" value="1500">
                    </div>
                    <div class="input-group">
                        <label>ุชูููุฉ ุงูุชูุตูู ุดูุฑูุงู</label>
                        <input type="number" id="deliveryCost" value="3000">
                    </div>
                </div>
            </div>
        </div>
        
        <!-- ุจุฑูุงูุฌ ุงูุชุฑุจูุฉ -->
        <div id="breeding" class="tab-content">
            <div class="info-box">
                ๐ ุญุฏุฏ ุจุฑูุงูุฌ ุงูุชุฑุจูุฉ ูุงูุชูุงุณู ูุชุญุณูู ุงูุฅูุชุงุฌูุฉ
            </div>
            
            <div class="grid">
                <div class="section">
                    <h3>ูุนุฏูุงุช ุงูุชูุงุณู</h3>
                    <div class="grid-2">
                        <div class="input-group">
                            <label>ูุนุฏู ุงูุฎุตูุจุฉ %</label>
                            <input type="number" id="fertilityRate" value="85">
                        </div>
                        <div class="input-group">
                            <label>ููุงุฏุงุช/ุณูุฉ</label>
                            <input type="number" id="birthsPerYear" value="1.5" step="0.1">
                            <span class="small-text">3 ููุงุฏุงุช/ุณูุชูู</span>
                        </div>
                        <div class="input-group">
                            <label>ููุงููุฏ/ููุงุฏุฉ</label>
                            <input type="number" id="lambsPerBirth" value="1.3" step="0.1">
                        </div>
                        <div class="input-group">
                            <label>ูุณุจุฉ ุชูุงุฆู %</label>
                            <input type="number" id="twinRate" value="30">
                        </div>
                        <div class="input-group">
                            <label>ุนูุฑ ุฃูู ููุงุฏุฉ</label>
                            <input type="number" id="firstBirthAge" value="18">
                        </div>
                    </div>
                </div>
                
                <div class="section">
                    <h3>ุจุฑูุงูุฌ ุงูุชูููุญ</h3>
                    <div class="grid-2">
                        <div class="input-group">
                            <label>ููุน ุงูุชูููุญ</label>
                            <select id="inseminationType">
                                <option value="natural">ุทุจูุนู</option>
                                <option value="artificial">ุตูุงุนู</option>
                                <option value="mixed">ูุฎุชูุท</option>
                            </select>
                        </div>
                        <div class="input-group">
                            <label>ุชูููุฉ ุตูุงุนู/ูุนุฌุฉ</label>
                            <input type="number" id="artificialInseminationCost" value="200">
                        </div>
                        <div class="input-group">
                            <label>ูุฌุงุญ ุงูุชูููุญ %</label>
                            <input type="number" id="inseminationSuccess" value="75">
                        </div>
                        <div class="input-group">
                            <label>ูุจุงุด ูุทููุจุฉ</label>
                            <input type="number" id="ramsNeeded" value="3" readonly>
                            <span class="small-text">ูุจุด/25 ูุนุฌุฉ</span>
                        </div>
                    </div>
                </div>
                
                <div class="section">
                    <h3>ุฌุฏูู ุงูุชุฑุจูุฉ</h3>
                    <div class="grid-2">
                        <div class="input-group">
                            <label>ููุณู ุงูุชูููุญ</label>
                            <select id="mainBreedingSeason">
                                <option value="spring">ุงูุฑุจูุน (ูุงุฑุณ-ูุงูู)</option>
                                <option value="fall">ุงูุฎุฑูู (ุณุจุชูุจุฑ-ููููุจุฑ)</option>
                                <option value="both">ููุณููู</option>
                            </select>
                        </div>
                        <div class="input-group">
                            <label>ูุชุฑุฉ ุงูุญูู</label>
                            <input type="number" id="gestationPeriod" value="150" readonly>
                        </div>
                        <div class="input-group">
                            <label>ูุชุฑุฉ ุงูุฑุถุงุนุฉ</label>
                            <input type="number" id="lactationPeriod" value="90">
                        </div>
                        <div class="input-group">
                            <label>ุนูุฑ ุงููุทุงู</label>
                            <input type="number" id="weaningAge" value="90">
                        </div>
                    </div>
                </div>
                
                <div class="section">
                    <h3>ุชุญุณูู ุงูุณูุงูุฉ</h3>
                    <div class="grid-2">
                        <div class="input-group">
                            <label>ุจุฑูุงูุฌ ุชุญุณูู</label>
                            <select id="geneticImprovement">
                                <option value="none">ูุง ููุฌุฏ</option>
                                <option value="local">ูุญูู</option>
                                <option value="import">ุงุณุชูุฑุงุฏ</option>
                            </select>
                        </div>
                        <div class="input-group">
                            <label>ุชูููุฉ ูุจุด ูุญุณู</label>
                            <input type="number" id="improvedRamCost" value="25000">
                        </div>
                        <div class="input-group">
                            <label>ุนุฏุฏ ูุจุงุด ูุญุณูุฉ</label>
                            <input type="number" id="improvedRamsCount" value="1">
                        </div>
                        <div class="input-group">
                            <label>ุฒูุงุฏุฉ ุฅูุชุงุฌูุฉ %</label>
                            <input type="number" id="productivityIncrease" value="20">
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- ุงููุฎุงุทุฑ ูุงูุถุฑุงุฆุจ -->
        <div id="risks" class="tab-content">
            <div class="info-box">
                โ๏ธ ุชูููู ุงููุฎุงุทุฑ ูุงูุงูุชุฒุงูุงุช ุงููุงููุฉ ูููุดุฑูุน
            </div>
            
            <div class="grid">
                <div class="section">
                    <h3>ุฅุฏุงุฑุฉ ุงููุฎุงุทุฑ</h3>
                    <div class="grid-2">
                        <div class="input-group">
                            <label>ุงุญุชูุงุทู ุตุญู %</label>
                            <input type="number" id="healthEmergency" value="10">
                            <span class="small-text">ูู ูููุฉ ุงููุทูุน</span>
                        </div>
                        <div class="input-group">
                            <label>ูููู ุญุฑุงุฑุฉ %</label>
                            <input type="number" id="heatWaveMortality" value="3">
                        </div>
                        <div class="input-group">
                            <label>ุชููุจ ุฃุนูุงู %</label>
                            <input type="number" id="feedPriceVolatility" value="15">
                        </div>
                        <div class="input-group">
                            <label>ุชููู ุชูุฑูุฏ ููู</label>
                            <input type="number" id="supplyInterruption" value="10">
                        </div>
                        <div class="input-group">
                            <label>ูุธุงู ุชุจุฑูุฏ</label>
                            <input type="number" id="coolingSystems" value="30000">
                        </div>
                        <div class="input-group">
                            <label>ุชุฃููู ููุงุฑุซ</label>
                            <input type="number" id="naturalDisasterInsurance" value="15000">
                        </div>
                    </div>
                </div>
                
                <div class="section">
                    <h3>ุงูุถุฑุงุฆุจ ูุงูุฑุณูู</h3>
                    <div class="grid-3">
                        <div class="input-group">
                            <label>ุถุฑูุจุฉ ุฏุฎู %</label>
                            <input type="number" id="incomeTax" value="22.5">
                        </div>
                        <div class="input-group">
                            <label>ูููุฉ ูุถุงูุฉ %</label>
                            <input type="number" id="vat" value="14">
                        </div>
                        <div class="input-group">
                            <label>ุฑุณูู ุจูุฏูุฉ</label>
                            <input type="number" id="municipalFees" value="5000">
                        </div>
                        <div class="input-group">
                            <label>ุบุฑูุฉ ุชุฌุงุฑุฉ</label>
                            <input type="number" id="chamberFees" value="2000">
                        </div>
                        <div class="input-group">
                            <label>ุงุชุญุงุฏ ููุชุฌูู</label>
                            <input type="number" id="producerUnionFees" value="3000">
                        </div>
                    </div>
                </div>
                
                <div class="section">
                    <h3>ุงูุฒูุงุฉ</h3>
                    <div class="grid-3">
                        <div class="input-group">
                            <label>ูุตุงุจ ุงูุบูู</label>
                            <input type="number" id="zakatNisab" value="40" readonly>
                        </div>
                        <div class="input-group">
                            <label>ุฒูุงุฉ ูุณุชุญูุฉ</label>
                            <input type="number" id="zakatDue" value="0" readonly>
                            <span class="small-text">ุชุญุณุจ ุชููุงุฆูุงู</span>
                        </div>
                        <div class="input-group">
                            <label>ูููุฉ ุจุงูุฌููู</label>
                            <input type="number" id="zakatValue" value="0" readonly>
                        </div>
                    </div>
                </div>
                
                <div class="section">
                    <h3>ุงูุชุตุฏูุฑ ูุงูุฌูุฏุฉ</h3>
                    <div class="grid-2">
                        <div class="input-group">
                            <label>ุดูุงุฏุงุช ุชุตุฏูุฑ</label>
                            <input type="number" id="exportCertificates" value="25000">
                        </div>
                        <div class="input-group">
                            <label>ุดุญู/ุฎุฑูู</label>
                            <input type="number" id="shippingPerHead" value="500">
                        </div>
                        <div class="input-group">
                            <label>ISO 22000</label>
                            <input type="number" id="isoCertificate" value="50000">
                        </div>
                        <div class="input-group">
                            <label>ููุตุงุช ุฃูููุงูู</label>
                            <input type="number" id="onlinePlatformFees" value="24000">
                            <span class="small-text">ุฃูุงุฒููุ ุฌูููุง</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- ุงูุชุญููู ุงูููุณูู -->
        <div id="seasonal" class="tab-content">
            <div class="info-box">
                ๐ ุญุฏุฏ ุชูุฒูุน ุงููุจูุนุงุช ุงููุชููุน ุนูู ูุฏุงุฑ ุงูุณูุฉ ูุญุณุงุจ ุงุญุชูุงุฌุงุช ุงูุณูููุฉ
            </div>
            
            <div class="grid-3">
                <div class="section-compact">
                    <h3>ุชูุฒูุน ุงูุฃุถุงุญู</h3>
                    <div class="grid-2" style="gap: 4px;">
                        <div class="compact-input">
                            <label>ุฐู ุงูุญุฌุฉ %</label>
                            <input type="number" id="eidSales" value="85">
                            <span class="small-text">ุงููุณุจุฉ ุงูุฃูุจุฑ</span>
                        </div>
                        <div class="compact-input">
                            <label>ุจุงูู ุงูุณูุฉ %</label>
                            <input type="number" id="nonEidSales" value="15" readonly>
                        </div>
                    </div>
                </div>
                
                <div class="section-compact">
                    <h3>ุงูููุงุณู</h3>
                    <div class="compact-grid">
                        <div class="compact-input">
                            <label>ุฑูุถุงู+</label>
                            <input type="number" id="ramadanIncrease" value="30">
                        </div>
                        <div class="compact-input">
                            <label>ุตูู+</label>
                            <input type="number" id="summerCatering" value="40">
                            <span class="small-text" style="font-size: 0.6rem;">ููุณู ุงูุฃูุฑุงุญ</span>
                        </div>
                        <div class="compact-input">
                            <label>ุดุชุงุก-</label>
                            <input type="number" id="winterDecrease" value="20">
                        </div>
                    </div>
                </div>
                
                <div class="section-compact">
                    <h3>ุงูุณูููุฉ</h3>
                    <div style="font-size: 0.8rem; line-height: 1.4;">
                        <div style="margin-bottom: 5px;">
                            <strong>ุฃุนูู ุงุญุชูุงุฌ:</strong> ุดูุฑ <span id="highestCashNeed">0</span>
                        </div>
                        <div style="margin-bottom: 5px;">
                            <strong>ุฃูู ุฅูุฑุงุฏ:</strong> <span id="lowestRevenue">0</span>
                        </div>
                        <div style="margin-bottom: 5px;">
                            <strong>ุฃุนูู ุฅูุฑุงุฏ:</strong> <span id="highestRevenue">0</span>
                        </div>
                        <div style="background: #e8f4f8; padding: 5px; border-radius: 3px; margin-top: 6px;">
                            <strong>ุงุญุชูุงุทู ูุทููุจ:</strong> <span id="cashReserve" style="color: #2c3e50;">0</span> ุฌููู
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- ุงูุชุญููู ุงููุงูู -->
        <div id="financial" class="tab-content">
            <div class="summary-section">
                <h2>๐ ุงูููุฎุต ุงููุงูู ุงูุดุงูู</h2>
                
                <div class="metrics-grid">
                    <div class="metric">
                        <div class="metric-label">ุงูุงุณุชุซูุงุฑ ุงููุทููุจ</div>
                        <div class="metric-value"><span id="totalInvestment">0</span> ุฌููู</div>
                    </div>
                    <div class="metric">
                        <div class="metric-label">ุฅูุฑุงุฏุงุช ุงูุณูุฉ 1</div>
                        <div class="metric-value"><span id="yearOneRevenue">0</span> ุฌููู</div>
                    </div>
                    <div class="metric">
                        <div class="metric-label">ุชูุงููู ุงูุณูุฉ 1</div>
                        <div class="metric-value"><span id="yearOneCosts">0</span> ุฌููู</div>
                    </div>
                    <div class="metric">
                        <div class="metric-label">ุตุงูู ุงูุฑุจุญ</div>
                        <div class="metric-value"><span id="yearOneProfit">0</span> ุฌููู</div>
                    </div>
                    <div class="metric">
                        <div class="metric-label">ููุทุฉ ุงูุชุนุงุฏู</div>
                        <div class="metric-value"><span id="breakEven">0</span> ุดูุฑ</div>
                    </div>
                    <div class="metric">
                        <div class="metric-label">ุงูุนุงุฆุฏ ROI</div>
                        <div class="metric-value"><span id="roi">0</span>%</div>
                    </div>
                </div>
                
                <div id="decisionBox" class="decision-box">
                    ุฌุงุฑู ุงูุญุณุงุจ...
                </div>
                
                <div style="margin-top: 10px; background: rgba(255,255,255,0.1); padding: 10px; border-radius: 6px;">
                    <h3 style="color: white; margin-bottom: 6px; font-size: 0.9rem;">ุชูุงุตูู ุงูุชุญููู:</h3>
                    
                    <div class="grid-3" style="color: white; font-size: 0.75rem; line-height: 1.3; gap: 10px;">
                        <div style="background: rgba(0,0,0,0.2); padding: 6px; border-radius: 4px;">
                            <strong style="display: block; margin-bottom: 4px; color: #ffd700;">๐ฐ ุงูุงุณุชุซูุงุฑ</strong>
                            <div>ุงูุจููุฉ: <span id="infraTotal">0</span></div>
                            <div>ุงููุทูุน: <span id="flockTotal">0</span></div>
                            <div>ุฑุฃุณ ูุงู: <span id="workingCapital">0</span></div>
                            <div>ุฃูููุงูู: <span id="onlineTotal">0</span></div>
                        </div>
                        
                        <div style="background: rgba(0,0,0,0.2); padding: 6px; border-radius: 4px;">
                            <strong style="display: block; margin-bottom: 4px; color: #ffd700;">๐ ุดูุฑูุงู</strong>
                            <div>ุชุดุบูู: <span id="monthlyOperating">0</span></div>
                            <div>ุฐุจุญ: <span id="processingCosts">0</span></div>
                            <div>ุชุณููู: <span id="digitalMarketingCost">0</span></div>
                            <div>ููุงู: <span id="waterCostDisplay">0</span></div>
                        </div>
                        
                        <div style="background: rgba(0,0,0,0.2); padding: 6px; border-radius: 4px;">
                            <strong style="display: block; margin-bottom: 4px; color: #ffd700;">๐ต ุฅูุฑุงุฏุงุช</strong>
                            <div>ุฃุถุงุญู: <span id="udheyaRevenue">0</span></div>
                            <div>ูุญูู: <span id="meatRevenue">0</span></div>
                            <div>ุญูุฉ: <span id="liveAnimalRevenue">0</span></div>
                            <div>ูุงุชุฑููุฌ: <span id="cateringRevenue">0</span></div>
                        </div>
                        
                        <div style="background: rgba(0,0,0,0.2); padding: 6px; border-radius: 4px;">
                            <strong style="display: block; margin-bottom: 4px; color: #ffd700;">โ ุฅุถุงููุฉ</strong>
                            <div>ุชุฃุฌูุฑ: <span id="eventRentalRevenue">0</span></div>
                            <div>ุชุตุฏูุฑ: <span id="exportRevenue">0</span></div>
                            <div>ุณูุงุฏ: <span id="manureRevenue">0</span></div>
                            <div>ุฌููุฏ: <span id="hideRevenue">0</span></div>
                        </div>
                        
                        <div style="background: rgba(0,0,0,0.2); padding: 6px; border-radius: 4px;">
                            <strong style="display: block; margin-bottom: 4px; color: #ffd700;">๐ ูุคุดุฑุงุช</strong>
                            <div>ูุงูุด: <span id="profitMargin">0</span>%</div>
                            <div>ุงุณุชุฑุฏุงุฏ: <span id="paybackPeriod">0</span>ู</div>
                            <div>ุณูููุฉ: <span id="requiredCashReserve">0</span></div>
                        </div>
                        
                        <div style="background: rgba(0,0,0,0.2); padding: 6px; border-radius: 4px;">
                            <strong style="display: block; margin-bottom: 4px; color: #ffd700;">โ๏ธ ุงูุชุฒุงูุงุช</strong>
                            <div>ุฒูุงุฉ: <span id="zakatDisplay">0</span></div>
                            <div>ุถุฑูุจุฉ: <span id="taxDisplay">0</span></div>
                            <div>ูุฎุงุทุฑ: <span id="riskReserveDisplay">0</span></div>
                        </div>
                    </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <script>
        // Show tab function
        function showTab(tabName) {
            // Hide all tabs
            const tabs = document.querySelectorAll('.tab-content');
            tabs.forEach(tab => tab.classList.remove('active'));
            
            // Remove active class from all buttons
            const buttons = document.querySelectorAll('.tab');
            buttons.forEach(btn => btn.classList.remove('active'));
            
            // Show selected tab
            document.getElementById(tabName).classList.add('active');
            
            // Add active class to clicked button
            event.target.classList.add('active');
            
            // Recalculate when showing financial, seasonal, breeding or risks tab
            if (tabName === 'financial' || tabName === 'seasonal' || tabName === 'breeding' || tabName === 'risks') {
                calculateAll();
            }
        }
        
        // Get all inputs
        const inputs = document.querySelectorAll('input[type="number"]');
        inputs.forEach(input => {
            input.addEventListener('input', () => {
                const activeTab = document.querySelector('.tab-content.active');
                if (activeTab && (activeTab.id === 'financial' || activeTab.id === 'seasonal' || 
                                 activeTab.id === 'breeding' || activeTab.id === 'risks')) {
                    calculateAll();
                }
            });
        });
        
        function calculateAll() {
            // Market data
            const udheyaPrice = parseFloat(document.getElementById('udheyaPrice').value) || 0;
            const meatPrice = parseFloat(document.getElementById('meatPrice').value) || 0;
            const liveAnimalPrice = parseFloat(document.getElementById('liveAnimalPrice').value) || 0;
            const cateringPrice = parseFloat(document.getElementById('cateringPrice').value) || 0;
            const eventRentalPrice = parseFloat(document.getElementById('eventRentalPrice').value) || 0;
            const manurePrice = parseFloat(document.getElementById('manurePrice').value) || 0;
            const hidePrice = parseFloat(document.getElementById('hidePrice').value) || 0;
            const exportPrice = parseFloat(document.getElementById('exportPrice').value) || 0;
            const udheyaCustomers = parseFloat(document.getElementById('udheyaCustomers').value) || 0;
            const meatDemand = parseFloat(document.getElementById('meatDemand').value) || 0;
            const liveAnimalMonthly = parseFloat(document.getElementById('liveAnimalMonthly').value) || 0;
            const cateringEvents = parseFloat(document.getElementById('cateringEvents').value) || 0;
            const cateringPeople = parseFloat(document.getElementById('cateringPeople').value) || 0;
            const eventRentals = parseFloat(document.getElementById('eventRentals').value) || 0;
            const exportMonthly = parseFloat(document.getElementById('exportMonthly').value) || 0;
            const manureProduction = parseFloat(document.getElementById('manureProduction').value) || 0;
            
            // Payment terms
            const cashCustomers = parseFloat(document.getElementById('cashCustomers').value) || 0;
            const collectionPeriod = parseFloat(document.getElementById('collectionPeriod').value) || 0;
            
            // Catering equipment
            const cateringCooking = parseFloat(document.getElementById('cateringCooking').value) || 0;
            const cateringFurniture = parseFloat(document.getElementById('cateringFurniture').value) || 0;
            const cateringServing = parseFloat(document.getElementById('cateringServing').value) || 0;
            const generator = parseFloat(document.getElementById('generator').value) || 0;
            const photography = parseFloat(document.getElementById('photography').value) || 0;
            
            // Livestock data
            const initialSheep = parseFloat(document.getElementById('initialSheep').value) || 0;
            const sheepCost = parseFloat(document.getElementById('sheepCost').value) || 0;
            const ewes = parseFloat(document.getElementById('ewes').value) || 0;
            const birthRate = parseFloat(document.getElementById('birthRate').value) || 0;
            const mortalityRate = parseFloat(document.getElementById('mortalityRate').value) || 0;
            const feedPerDay = parseFloat(document.getElementById('feedPerDay').value) || 0;
            const feedPriceTon = parseFloat(document.getElementById('feedPriceTon').value) || 0;
            const waterPerDay = parseFloat(document.getElementById('waterPerDay').value) || 0;
            const waterPrice = parseFloat(document.getElementById('waterPrice').value) || 0;
            
            // Breeding program
            const fertilityRate = parseFloat(document.getElementById('fertilityRate').value) || 0;
            const birthsPerYear = parseFloat(document.getElementById('birthsPerYear').value) || 0;
            const lambsPerBirth = parseFloat(document.getElementById('lambsPerBirth').value) || 0;
            const artificialInseminationCost = parseFloat(document.getElementById('artificialInseminationCost').value) || 0;
            const improvedRamCost = parseFloat(document.getElementById('improvedRamCost').value) || 0;
            const improvedRamsCount = parseFloat(document.getElementById('improvedRamsCount').value) || 0;
            
            // Infrastructure
            const landRent = parseFloat(document.getElementById('landRent').value) || 0;
            const shelterCost = parseFloat(document.getElementById('shelterCost').value) || 0;
            const fencingCost = parseFloat(document.getElementById('fencingCost').value) || 0;
            const waterSystem = parseFloat(document.getElementById('waterSystem').value) || 0;
            const waterRecycling = parseFloat(document.getElementById('waterRecycling').value) || 0;
            const feedingEquipment = parseFloat(document.getElementById('feedingEquipment').value) || 0;
            const feedStorage = parseFloat(document.getElementById('feedStorage').value) || 0;
            const refrigerators = parseFloat(document.getElementById('refrigerators').value) || 0;
            const freezers = parseFloat(document.getElementById('freezers').value) || 0;
            const packagingEquipment = parseFloat(document.getElementById('packagingEquipment').value) || 0;
            const biogasSystem = parseFloat(document.getElementById('biogasSystem').value) || 0;
            const otherEquipment = parseFloat(document.getElementById('otherEquipment').value) || 0;
            const vehicle = parseFloat(document.getElementById('vehicle').value) || 0;
            const refrigeratedVehicle = parseFloat(document.getElementById('refrigeratedVehicle').value) || 0;
            const transportMonthly = parseFloat(document.getElementById('transportMonthly').value) || 0;
            
            // Risk management
            const coolingSystems = parseFloat(document.getElementById('coolingSystems').value) || 0;
            const naturalDisasterInsurance = parseFloat(document.getElementById('naturalDisasterInsurance').value) || 0;
            const healthEmergency = parseFloat(document.getElementById('healthEmergency').value) || 0;
            const heatWaveMortality = parseFloat(document.getElementById('heatWaveMortality').value) || 0;
            const feedPriceVolatility = parseFloat(document.getElementById('feedPriceVolatility').value) || 0;
            
            // Taxes and fees
            const incomeTax = parseFloat(document.getElementById('incomeTax').value) || 0;
            const vat = parseFloat(document.getElementById('vat').value) || 0;
            const municipalFees = parseFloat(document.getElementById('municipalFees').value) || 0;
            const chamberFees = parseFloat(document.getElementById('chamberFees').value) || 0;
            const producerUnionFees = parseFloat(document.getElementById('producerUnionFees').value) || 0;
            
            // Export and quality
            const exportCertificates = parseFloat(document.getElementById('exportCertificates').value) || 0;
            const shippingPerHead = parseFloat(document.getElementById('shippingPerHead').value) || 0;
            const isoCertificate = parseFloat(document.getElementById('isoCertificate').value) || 0;
            const onlinePlatformFees = parseFloat(document.getElementById('onlinePlatformFees').value) || 0;
            
            // Online setup
            const website = parseFloat(document.getElementById('website').value) || 0;
            const mobileApp = parseFloat(document.getElementById('mobileApp').value) || 0;
            const paymentGateway = parseFloat(document.getElementById('paymentGateway').value) || 0;
            const inventorySystem = parseFloat(document.getElementById('inventorySystem').value) || 0;
            
            // Operations
            const workers = parseFloat(document.getElementById('workers').value) || 0;
            const workerSalary = parseFloat(document.getElementById('workerSalary').value) || 0;
            const managerSalary = parseFloat(document.getElementById('managerSalary').value) || 0;
            const vaccinesPerHead = parseFloat(document.getElementById('vaccinesPerHead').value) || 0;
            const vetEmergency = parseFloat(document.getElementById('vetEmergency').value) || 0;
            const vetCheckup = parseFloat(document.getElementById('vetCheckup').value) || 0;
            const utilities = parseFloat(document.getElementById('utilities').value) || 0;
            const marketing = parseFloat(document.getElementById('marketing').value) || 0;
            const digitalMarketing = parseFloat(document.getElementById('digitalMarketing').value) || 0;
            const insurance = parseFloat(document.getElementById('insurance').value) || 0;
            const licenses = parseFloat(document.getElementById('licenses').value) || 0;
            const halalCertificate = parseFloat(document.getElementById('halalCertificate').value) || 0;
            const qualityCertificates = parseFloat(document.getElementById('qualityCertificates').value) || 0;
            
            // Processing costs
            const slaughterFee = parseFloat(document.getElementById('slaughterFee').value) || 0;
            const processingFee = parseFloat(document.getElementById('processingFee').value) || 0;
            const packagingMonthly = parseFloat(document.getElementById('packagingMonthly').value) || 0;
            const cateringStaffPerEvent = parseFloat(document.getElementById('cateringStaffPerEvent').value) || 0;
            const deliveryCost = parseFloat(document.getElementById('deliveryCost').value) || 0;
            
            // Calculations
            // Update rams needed
            document.getElementById('ramsNeeded').value = Math.ceil(ewes / 25);
            
            // Update credit customers
            document.getElementById('creditCustomers').value = 100 - cashCustomers;
            
            // Total catering equipment
            const cateringEquipmentTotal = cateringCooking + cateringFurniture + cateringServing + generator + photography;
            
            // Infrastructure total
            const infrastructureTotal = shelterCost + fencingCost + waterSystem + waterRecycling +
                                      feedingEquipment + feedStorage + refrigerators + freezers +
                                      packagingEquipment + biogasSystem + otherEquipment + vehicle + 
                                      refrigeratedVehicle + cateringEquipmentTotal + coolingSystems;
            
            // Online setup total
            const onlineSetupTotal = website + mobileApp + paymentGateway + inventorySystem;
            
            // Breeding investment
            const breedingInvestment = improvedRamCost * improvedRamsCount;
            
            // Export setup costs
            const exportSetupCosts = exportCertificates + isoCertificate;
            
            // Flock cost
            const flockCost = initialSheep * sheepCost + breedingInvestment;
            
            // Monthly operating costs
            const laborCost = (workers * workerSalary) + managerSalary;
            const feedCostMonthly = (initialSheep * feedPerDay * 30 * feedPriceTon) / 1000;
            const waterCostMonthly = (initialSheep * waterPerDay * 30 * waterPrice) / 1000;
            const vetCostMonthly = vetEmergency + vetCheckup;
            const processingCostMonthly = (slaughterFee + processingFee) * (udheyaCustomers/12 + liveAnimalMonthly + exportMonthly);
            const cateringStaffMonthly = cateringStaffPerEvent * cateringEvents;
            const exportShippingMonthly = shippingPerHead * exportMonthly;
            const breedingCostMonthly = (artificialInseminationCost * ewes * birthsPerYear) / 12;
            const monthlyOperating = laborCost + feedCostMonthly + waterCostMonthly + vetCostMonthly + 
                                   utilities + marketing + digitalMarketing + transportMonthly +
                                   packagingMonthly + processingCostMonthly + cateringStaffMonthly + 
                                   deliveryCost + exportShippingMonthly + breedingCostMonthly;
            
            // Annual operating costs
            const annualFees = municipalFees + chamberFees + producerUnionFees + onlinePlatformFees;
            const annualOperating = (monthlyOperating * 12) + (vaccinesPerHead * initialSheep) + 
                                  insurance + licenses + landRent + halalCertificate + qualityCertificates +
                                  naturalDisasterInsurance + annualFees;
            
            // Risk reserve
            const healthReserve = flockCost * (healthEmergency / 100);
            const feedPriceReserve = feedCostMonthly * 12 * (feedPriceVolatility / 100);
            const totalRiskReserve = healthReserve + feedPriceReserve;
            
            // Working capital (4 months considering payment terms)
            const workingCapitalMonths = 4 + (collectionPeriod / 30);
            const workingCapital = monthlyOperating * workingCapitalMonths + totalRiskReserve;
            
            // Total investment
            const totalInvestment = infrastructureTotal + flockCost + workingCapital + onlineSetupTotal + exportSetupCosts;
            
            // Revenue calculations with improved breeding
            const effectiveFertility = fertilityRate / 100;
            const expectedLambs = ewes * effectiveFertility * birthsPerYear * lambsPerBirth;
            const effectiveMortality = (mortalityRate + heatWaveMortality) / 100;
            const survivalRate = 1 - effectiveMortality;
            const sellableSheep = expectedLambs * survivalRate;
            
            const udheyaRevenue = Math.min(udheyaCustomers, sellableSheep * 0.4) * udheyaPrice;
            const meatRevenue = meatDemand * 12 * meatPrice;
            const liveAnimalRevenue = liveAnimalMonthly * 12 * liveAnimalPrice;
            const cateringRevenue = cateringEvents * 12 * cateringPeople * cateringPrice;
            const eventRentalRevenue = eventRentals * 12 * eventRentalPrice;
            const exportRevenue = exportMonthly * 12 * exportPrice;
            const manureRevenue = manureProduction * manurePrice;
            const hideRevenue = (sellableSheep * 0.8) * hidePrice;
            
            const totalRevenue = udheyaRevenue + meatRevenue + liveAnimalRevenue + cateringRevenue + 
                               eventRentalRevenue + exportRevenue + manureRevenue + hideRevenue;
            
            // Calculate Zakat
            const zakatDue = initialSheep >= 40 ? Math.floor(initialSheep / 40) : 0;
            const zakatValue = zakatDue * sheepCost;
            document.getElementById('zakatDue').value = zakatDue;
            document.getElementById('zakatValue').value = zakatValue;
            
            // First year calculations
            const firstYearCosts = totalInvestment + annualOperating + zakatValue;
            const firstYearProfitBeforeTax = totalRevenue - firstYearCosts;
            const taxAmount = firstYearProfitBeforeTax > 0 ? firstYearProfitBeforeTax * (incomeTax / 100) : 0;
            const firstYearProfit = firstYearProfitBeforeTax - taxAmount;
            
            // Break-even
            let breakEvenMonths = 0;
            if (totalRevenue > annualOperating) {
                const monthlyProfit = (totalRevenue - annualOperating) / 12;
                breakEvenMonths = Math.ceil(totalInvestment / monthlyProfit);
            } else {
                breakEvenMonths = 999;
            }
            
            // ROI and margins
            const roi = totalInvestment > 0 ? ((firstYearProfit / totalInvestment) * 100).toFixed(1) : 0;
            const profitMargin = totalRevenue > 0 ? ((firstYearProfit / totalRevenue) * 100).toFixed(1) : 0;
            
            // Seasonal analysis
            const eidSalesPercent = parseFloat(document.getElementById('eidSales').value) || 85;
            const monthlyAvgRevenue = totalRevenue / 12;
            const eidMonthRevenue = (udheyaRevenue * eidSalesPercent / 100) + (monthlyAvgRevenue * 0.5);
            const lowestMonthRevenue = monthlyAvgRevenue * 0.6;
            const cashReserveNeeded = monthlyOperating * 6 + totalRiskReserve;
            
            // Update displays
            document.getElementById('totalInvestment').textContent = totalInvestment.toLocaleString();
            document.getElementById('yearOneRevenue').textContent = totalRevenue.toLocaleString();
            document.getElementById('yearOneCosts').textContent = firstYearCosts.toLocaleString();
            document.getElementById('yearOneProfit').textContent = firstYearProfit.toLocaleString();
            document.getElementById('breakEven').textContent = breakEvenMonths === 999 ? 'ูู ูุชุนุงุฏู' : breakEvenMonths;
            document.getElementById('roi').textContent = roi;
            document.getElementById('infraTotal').textContent = infrastructureTotal.toLocaleString();
            document.getElementById('flockTotal').textContent = flockCost.toLocaleString();
            document.getElementById('workingCapital').textContent = workingCapital.toLocaleString();
            document.getElementById('monthlyOperating').textContent = monthlyOperating.toLocaleString();
            document.getElementById('onlineTotal').textContent = onlineSetupTotal.toLocaleString();
            document.getElementById('processingCosts').textContent = processingCostMonthly.toLocaleString();
            document.getElementById('digitalMarketingCost').textContent = digitalMarketing.toLocaleString();
            document.getElementById('udheyaRevenue').textContent = udheyaRevenue.toLocaleString();
            document.getElementById('meatRevenue').textContent = meatRevenue.toLocaleString();
            document.getElementById('liveAnimalRevenue').textContent = liveAnimalRevenue.toLocaleString();
            document.getElementById('cateringRevenue').textContent = cateringRevenue.toLocaleString();
            document.getElementById('eventRentalRevenue').textContent = eventRentalRevenue.toLocaleString();
            document.getElementById('profitMargin').textContent = profitMargin;
            document.getElementById('paybackPeriod').textContent = breakEvenMonths === 999 ? 'ุบูุฑ ูุญุฏุฏ' : breakEvenMonths;
            document.getElementById('requiredCashReserve').textContent = cashReserveNeeded.toLocaleString();
            
            // Seasonal displays
            document.getElementById('nonEidSales').value = 100 - eidSalesPercent;
            document.getElementById('highestCashNeed').textContent = 'ุฐู ุงููุนุฏุฉ';
            document.getElementById('lowestRevenue').textContent = lowestMonthRevenue.toLocaleString();
            document.getElementById('highestRevenue').textContent = eidMonthRevenue.toLocaleString();
            document.getElementById('cashReserve').textContent = cashReserveNeeded.toLocaleString();
            
            // Update additional revenue displays
            document.getElementById('exportRevenue').textContent = exportRevenue.toLocaleString();
            document.getElementById('manureRevenue').textContent = manureRevenue.toLocaleString();
            document.getElementById('hideRevenue').textContent = hideRevenue.toLocaleString();
            document.getElementById('zakatDisplay').textContent = zakatValue.toLocaleString();
            document.getElementById('taxDisplay').textContent = taxAmount.toLocaleString();
            document.getElementById('riskReserveDisplay').textContent = totalRiskReserve.toLocaleString();
            document.getElementById('waterCostDisplay').textContent = waterCostMonthly.toLocaleString();
            
            // Decision
            const decisionBox = document.getElementById('decisionBox');
            if (firstYearProfit > 0 && breakEvenMonths <= 12) {
                decisionBox.textContent = 'โ ููุชุงุฒ - ุงููุดุฑูุน ูุฑุจุญ ูู ุงูุณูุฉ ุงูุฃููู!';
                decisionBox.className = 'decision-box go';
            } else if (firstYearProfit > 0 || (breakEvenMonths <= 18 && totalRevenue > annualOperating)) {
                decisionBox.textContent = 'โ๏ธ ุฌูุฏ - ูุญุชุงุฌ ูุฑุงุฌุนุฉ ุจุนุถ ุงูุชูุงุตูู';
                decisionBox.className = 'decision-box maybe';
            } else {
                decisionBox.textContent = 'โ ุบูุฑ ูุฌุฏู - ุงููุดุฑูุน ูุญุชุงุฌ ุฅุนุงุฏุฉ ุฏุฑุงุณุฉ';
                decisionBox.className = 'decision-box no-go';
            }
            
            // Update quick summary
            const quickSummary = document.getElementById('quickSummary');
            if (quickSummary) {
                quickSummary.style.display = 'block';
                document.getElementById('quickProfit').textContent = firstYearProfit > 0 ? 
                    '+' + (firstYearProfit / 1000).toFixed(0) + 'k' : 
                    (firstYearProfit / 1000).toFixed(0) + 'k';
                document.getElementById('quickInvestment').textContent = (totalInvestment / 1000).toFixed(0) + 'k';
                document.getElementById('quickROI').textContent = roi + '%';
                document.getElementById('quickBreakeven').textContent = breakEvenMonths === 999 ? 'โ' : breakEvenMonths;
                document.getElementById('quickRevenue').textContent = (totalRevenue / 1000).toFixed(0) + 'k';
                document.getElementById('quickMargin').textContent = profitMargin + '%';
            }
        }
        
        // Initial calculation
        calculateAll();
        
        // Update non-Eid sales when Eid sales changes
        document.getElementById('eidSales').addEventListener('input', function() {
            document.getElementById('nonEidSales').value = 100 - this.value;
        });
        
        // Update credit customers when cash customers changes
        document.getElementById('cashCustomers').addEventListener('input', function() {
            document.getElementById('creditCustomers').value = 100 - this.value;
        });
        
        // Update rams needed when ewes changes
        document.getElementById('ewes').addEventListener('input', function() {
            document.getElementById('ramsNeeded').value = Math.ceil(this.value / 25);
        });
    </script>
</body>
</html>
